<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

      <meta name="title" content="CS2Charms" />
      <meta name="description" content="Check out all CS2 Charm Patterns - @MonkeyBizzCS" />
      
      <!-- Open Graph / Facebook -->
      <meta property="og:type" content="website" />
      <meta property="og:url" content="https://cs2charms.site" />
      <meta property="og:title" content="CS2Charms" />
      <meta property="og:description" content="Check out all CS2 Charm Patterns - @MonkeyBizzCS" />
      <meta property="og:image" content="https://branding.cdn.cashtrader.pro/monkeybizz.png" />
      
      <!-- Twitter -->
      <meta property="twitter:card" content="summary_large_image" />
      <meta property="twitter:url" content="https://cs2charms.site" />
      <meta property="twitter:title" content="CS2Charms" />
      <meta property="twitter:description" content="Check out all CS2 Charm Patterns - @MonkeyBizzCS" />
      <meta property="twitter:image" content="https://branding.cdn.cashtrader.pro/monkeybizz.png" />
      <title>CS2 Charms</title>
      <style>
         body {
         font-family: Arial, sans-serif;
         background-color: #121212;
         color: #e0e0e0;
         margin: 0;
         padding: 20px;
         display: flex;
         flex-direction: column;
         align-items: center;
         min-height: 100vh;
         }
         .logo-container {
         display: flex;
         margin-bottom: 20px;
         }
         .logo-container img {
         max-width: 200px;
         height: auto;
         border-radius: 8px;
         }
         .grid {
         display: grid;
         grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
         gap: 20px;
         justify-content: center;
         justify-items: center;
         max-width: 1200px;
         width: 100%;
         margin: 0 auto;
         }
         .card {
         background-color: #1e1e1e;
         border: 1px solid #333;
         padding: 20px;
         text-align: center;
         box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
         transition: transform 0.3s;
         }
         .card:hover {
         transform: scale(1.05);
         }
         .color-block {
         width: 100%;
         height: 100px;
         margin-bottom: 10px;
         border-radius: 4px;
         }
         .slider-container {
         display: flex;
         align-items: center;
         justify-content: center;
         gap: 10px;
         width: 100%;
         margin-bottom: 10px;
         }
         .slider {
         width: 100%;
         margin-top: 10px;
         }
         input[type="number"] {
         width: 100px;
         background-color: #333;
         color: #e0e0e0;
         border: 1px solid #555;
         border-radius: 4px;
         padding: 5px;
         text-align: center;
         -moz-appearance: textfield;
         }
         input::-webkit-outer-spin-button,
         input::-webkit-inner-spin-button {
         -webkit-appearance: none;
         margin: 0;
         }
         .slider-title {
         margin-bottom: 5px;
         font-size: 14px;
         color: #b0b0b0;
         }
         .arrow-button {
         background-color: #333;
         color: #e0e0e0;
         border: none;
         padding: 8px 12px;
         border-radius: 4px;
         font-size: 18px;
         cursor: pointer;
         transition: background-color 0.2s, transform 0.2s;
         flex: 1;
         }
         .arrow-button:hover {
         background-color: #444;
         transform: scale(1.1);
         }
         .arrow-button:active {
         background-color: #555;
         }
         footer {
         display: flex;
         justify-content: center;
         align-items: center;
         margin-top: 20px;
         color: #b0b0b0;
         }
         footer a {
         color: #b0b0b0;
         text-decoration: none;
         margin-left: 10px;
         }
         footer a:hover {
         color: #e0e0e0;
         }
         footer i {
         font-size: 24px;
         }

         .inspect-button {
            display: inline-block;
            padding: 10px 20px;
            background-color: #333;
            color: #e0e0e0;
            text-decoration: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            transition: background-color 0.3s, transform 0.3s;
            border: 1px solid #555;
            margin-top: 5px;
        }

        .inspect-button:hover {
            background-color: #444;
            transform: scale(1.05);
        }

        .inspect-button:active {
            background-color: #555;
            transform: scale(0.98);
        }

      </style>
      <script src="https://cdn.cs2charms.site/data/inspect/18.js"></script>
   </head>
   <body>
      <div class="logo-container">
         <a href="https://x.com/MonkeyBizzCS" target="_blank">
         <img src="https://branding.cdn.cashtrader.pro/monkeybizz.png" alt="MonkeyBizzCS">
         </a>
      </div>
      <div class="grid" id="imageGrid"></div>
      <footer>
         <a href="https://twitter.com/MonkeyBizzCS" target="_blank">
         <i class="fab fa-twitter"></i>
         </a>
      </footer>
      <script>
         const items = [
             { name: 'Die-cast AK', pattern: 0, imageSrc: 'https://cs2.cdn.cashtrader.pro/econ/keychains/weapon_1/kc_wpn_ak_jelly.png', inspect: ak_inspect},
         ];
         
         function generateCards(items) {
             const grid = document.getElementById('imageGrid');
             items.forEach((item, index) => {
                 
                 const card = document.createElement('div');
                 card.classList.add('card');
         
                 card.innerHTML = `
                    <h3>${item.name}</h3>
                    <img src="${item.imageSrc}" alt="${item.name}" style="max-width: 100px; margin-bottom: 10px; display: block; margin-left: auto; margin-right: auto;">
                    <div id="colorBlock${index}" class="color-block" style="background-color: rgb(0, 0, 0)"></div>
                    <div class="slider-title">Pattern</div>
                    <div class="slider-container">
                            <button class="arrow-button" onclick="decrementSlider('slider${index}', 'sliderValue${index}', 'colorBlock${index}', 'rgbValue${index}', 'hexValue${index}', 'inspectButton${index}', items[${index}])">&lt;</button>
                            <input type="number" min="0" max="100000" value="${item.pattern}" id="sliderValue${index}" oninput="updateNumberInput(this, 'slider${index}', 'colorBlock${index}', 'rgbValue${index}', 'hexValue${index}', 'inspectButton${index}', items[${index}])">
                            <button class="arrow-button" onclick="incrementSlider('slider${index}', 'sliderValue${index}', 'colorBlock${index}', 'rgbValue${index}', 'hexValue${index}', 'inspectButton${index}', items[${index}])">&gt;</button>
                        </div>
                        <input type="range" min="0" max="100000" value="${item.pattern}" class="slider" id="slider${index}" oninput="updateSliderValue(this, 'sliderValue${index}', 'colorBlock${index}', 'rgbValue${index}', 'hexValue${index}', 'inspectButton${index}', items[${index}])">
                        <div>
                            <a href="${item.inspect[0]}" class="inspect-button" id="inspectButton${index}">Inspect in Game</a>
                        </div>
                `;

                 grid.appendChild(card);
                 updateColorBlock(item.pattern, `colorBlock${index}`, `rgbValue${index}`, `hexValue${index}`);
             });
         }
         
         function updateSliderValue(slider, valueId, colorBlockId, rgbValueId, hexValueId, inspectButtonId, item) {
            const value = slider.value;
            document.getElementById(valueId).value = value;

            updateColorBlock(value, colorBlockId, rgbValueId, hexValueId);
            
            if (item.inspect) {
                const inspectButton = document.getElementById(inspectButtonId);
                inspectButton.href = item.inspect[value];
            }
        }

        function updateNumberInput(input, sliderId, colorBlockId, rgbValueId, hexValueId, inspectButtonId, item) {
            let value = input.value;

            if (value === '' || value === undefined) {
                value = 0;
            }

            if (value > 100000) value = 100000;
            if (value < 0) value = 0;
            document.getElementById(sliderId).value = value; 
            input.value = value;
            updateColorBlock(value, colorBlockId, rgbValueId, hexValueId);

            if (item.inspect) {
                const inspectButton = document.getElementById(inspectButtonId);
                inspectButton.href = item.inspect[value];
            }
        }

        function incrementSlider(sliderId, valueId, colorBlockId, rgbValueId, hexValueId, inspectButtonId, item) {
            const slider = document.getElementById(sliderId);
            const newValue = parseInt(slider.value) + 1;
            if (newValue <= 100000) {
                slider.value = newValue;
                updateSliderValue(slider, valueId, colorBlockId, rgbValueId, hexValueId, inspectButtonId, item);
            }
        }

        function decrementSlider(sliderId, valueId, colorBlockId, rgbValueId, hexValueId, inspectButtonId, item) {
            const slider = document.getElementById(sliderId);
            const newValue = parseInt(slider.value) - 1;
            if (newValue >= 0) {
                slider.value = newValue;
                updateSliderValue(slider, valueId, colorBlockId, rgbValueId, hexValueId, inspectButtonId, item);
            }
        }

        function lerp(v0, v1, t) {
            return (1 - t) * v0 + t * v1;
        }

        function hslToRgb(h, s, l) {
            s /= 100;
            l /= 100;

            const k = (n) => (n + h / 30) % 12;
            const a = s * Math.min(l, 1 - l);
            const f = (n) =>
                l - a * Math.max(-1, Math.min(k(n) - 3, Math.min(9 - k(n), 1)));

            return [
                Math.round(f(0) * 255),
                Math.round(f(8) * 255),
                Math.round(f(4) * 255)
            ];
        }


        function updateColorBlock(value, colorBlockId, rgbValueId, hexValueId) {
            let valReal = parseInt(value);

            // Fix for pattern 0
            if(valReal === 0) {
                valReal = 50000;
            }

            const normalizedPattern = valReal / 100000;

            let hue_shift = 208 + lerp(-180, -360, normalizedPattern);
            
            if (hue_shift < 0) {
                hue_shift += 360;
            }

            const saturation = 56.7 * 1.798 / 2;
            const lightness = 1.087 * 40.8;

            const [r, g, b] = hslToRgb(hue_shift, saturation, lightness);

            const rgb = `rgb(${r}, ${g}, ${b})`;
            const hex = `#${((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase()}`;
            
            const colorBlock = document.getElementById(colorBlockId);
            const rgbValue = document.getElementById(rgbValueId);
            const hexValue = document.getElementById(hexValueId);
            
            if (colorBlock) colorBlock.style.backgroundColor = rgb;
            if (rgbValue) rgbValue.textContent = rgb;
            if (hexValue) hexValue.textContent = hex;
        }

         window.onload = () => generateCards(items);
        </script>
   </body>
</html>
